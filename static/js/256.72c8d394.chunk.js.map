{"version":3,"file":"static/js/256.72c8d394.chunk.js","mappings":"2LAKA,MAkKA,EAlKkBA,KACd,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,IACnCG,GAAWC,EAAAA,EAAAA,MAsGjB,OACIC,EAAAA,EAAAA,KAAA,OACIC,UAAU,mDACVC,MAAO,CAAEC,OAAQ,QAASC,SAAU,UAAWC,UAE/CL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWI,UACtBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6BAA4BI,UACvCL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yCAAwCI,UACnDC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,OAAMI,SAAA,EACjBL,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6BAA4BI,SAAC,6CAG3CC,EAAAA,EAAAA,MAAA,QAAMC,SA3DTC,UAGjB,GAFAC,EAAEC,iBArD6B,IAA3BjB,EAASkB,OAAOC,QACW,IAA3BhB,EAASe,OAAOC,QAIbnB,EAmDH,IACI,MAAMoB,QAAiBC,EAAAA,EAAMC,IAAI,kCAGjC,GAFAC,QAAQC,IAAIJ,EAASK,MAEG,MAApBL,EAASM,OAAgB,CACzB,MAAMC,EAAUP,EAASK,KAAKG,MACzBC,GACGA,EAAI7B,SAAS8B,gBAAkB9B,EAAS8B,eACxCD,EAAI1B,WAAaA,IAGrBwB,EACAI,IAAAA,KAAU,CACNC,MAAO,6CACPC,KAAM,+FACNC,KAAM,YACPC,MAAK,KACJC,aAAaC,QAAQ,eAAgBV,EAAQW,MAC7CF,aAAaC,QAAQ,kBAAmBV,EAAQY,iBAChDlC,EAAS,IAAI,IAGjB0B,IAAAA,KAAU,CACNG,KAAM,QACNF,MAAO,8CACPC,KAAM,sFACPE,MAAK,KACJ9B,EAAS,iBAAiB,GAGtC,CACJ,CAAE,MAAOmC,GACLjB,QAAQiB,MAAM,2BAA4BA,GAC1CT,IAAAA,KAAU,CACNG,KAAM,QACNF,MAAO,8BACPC,KAAM,sCAEd,CACJ,EAgBiDrB,SAAA,EACzBC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,OAAMI,SAAA,EACjBL,EAAAA,EAAAA,KAAA,SAAOkC,QAAQ,iBAAiBjC,UAAU,aAAYI,SAAC,yBAGvDL,EAAAA,EAAAA,KAAA,SACImC,KAAK,OACLlC,UAAU,eACVmC,GAAG,iBACHC,MAAO5C,EACP6C,SAAW7B,GACPf,EAAYe,EAAE8B,OAAOF,MAAMG,QAAQ,MAAO,KAE9CC,UAAQ,QAGhBnC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,OAAMI,SAAA,EACjBL,EAAAA,EAAAA,KAAA,SAAOkC,QAAQ,iBAAiBjC,UAAU,aAAYI,SAAC,mCAGvDL,EAAAA,EAAAA,KAAA,SACImC,KAAK,WACLlC,UAAU,eACVmC,GAAG,iBACHC,MAAOzC,EACP0C,SAAW7B,GACPZ,EAAYY,EAAE8B,OAAOF,MAAMG,QAAQ,MAAO,KAE9CC,UAAQ,QAGhBzC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qCAAoCI,UAC/CL,EAAAA,EAAAA,KAAA,UAAQmC,KAAK,SAASlC,UAAU,wBAAuBI,SAAC,4CAS9E,C","sources":["components/login/LoginForm.js"],"sourcesContent":["import { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst LoginForm = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const isValidated = () => {\r\n        if (username.trim().length === 0) return false;\r\n        if (password.trim().length === 0) return false;\r\n\r\n        // const pattern = /\\b[dD][eE]\\d{6}\\b/i;\r\n        // return pattern.test(username);\r\n        return username;\r\n    };\r\n\r\n    // const handleSubmit = async (e) => {\r\n    //     e.preventDefault();\r\n\r\n    //     if (isValidated()) {\r\n    //         try {\r\n    //             const response = await axios.get(`http://localhost:3001/accounts`);\r\n\r\n    //             if (response.status === 200) {\r\n    //                 const account = response.data.find(\r\n    //                     (acc) =>\r\n    //                         acc.username === username &&\r\n    //                         acc.password === password\r\n    //                 );\r\n\r\n    //                 if (account) {\r\n    //                     Swal.fire({\r\n    //                         title: 'Đăng nhập thành công!',\r\n    //                         text: 'Chào mừng bạn đến với hệ thống quản lý laptop!',\r\n    //                         icon: 'success',\r\n    //                     }).then(() => {\r\n    //                         localStorage.setItem('account_name', account.name);\r\n    //                         localStorage.setItem('username_github', account.username_github);\r\n    //                         navigate('/');\r\n    //                     });\r\n    //                 } else {\r\n    //                     Swal.fire({\r\n    //                         icon: 'error',\r\n    //                         title: 'Đăng nhập thất bại',\r\n    //                         text: 'Mã số sinh viên hoặc mật khẩu không chính xác!',\r\n    //                     }).then(() => {\r\n    //                         navigate('/hextech/login');\r\n    //                     });\r\n    //                 }\r\n    //             }\r\n    //         } catch (error) {\r\n    //             console.error('Error fetching accounts:', error);\r\n    //             Swal.fire({\r\n    //                 icon: 'error',\r\n    //                 title: 'Lỗi hệ thống',\r\n    //                 text: 'Vui lòng thử lại sau!',\r\n    //             });\r\n    //         }\r\n    //     }\r\n    // };\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n    \r\n        if (isValidated()) {\r\n            try {\r\n                const response = await axios.get(`http://localhost:3001/accounts`);\r\n                console.log(response.data); // Log response to check the data\r\n    \r\n                if (response.status === 200) {\r\n                    const account = response.data.find(\r\n                        (acc) =>\r\n                            acc.username.toLowerCase() === username.toLowerCase() &&\r\n                            acc.password === password\r\n                    );\r\n    \r\n                    if (account) {\r\n                        Swal.fire({\r\n                            title: 'Đăng nhập thành công!',\r\n                            text: 'Chào mừng bạn đến với hệ thống quản lý laptop!',\r\n                            icon: 'success',\r\n                        }).then(() => {\r\n                            localStorage.setItem('account_name', account.name);\r\n                            localStorage.setItem('username_github', account.username_github);\r\n                            navigate('/');\r\n                        });\r\n                    } else {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Đăng nhập thất bại',\r\n                            text: 'Mã số sinh viên hoặc mật khẩu không chính xác!',\r\n                        }).then(() => {\r\n                            navigate('/hextech/login');\r\n                        });\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching accounts:', error);\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Lỗi hệ thống',\r\n                    text: 'Vui lòng thử lại sau!',\r\n                });\r\n            }\r\n        }\r\n    };\r\n    \r\n\r\n    return (\r\n        <div\r\n            className=\"d-flex align-items-center justify-content-center\"\r\n            style={{ height: '100vh', overflow: 'hidden' }}\r\n        >\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-md-8 col-lg-6 shadow-lg p-5\">\r\n                        <div className=\"mx-5\">\r\n                            <h6 className=\"display-6 mb-5 text-center\">\r\n                                Đăng nhập vào HexTech\r\n                            </h6>\r\n                            <form onSubmit={handleSubmit}>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"input-username\" className=\"form-label\">\r\n                                        Nhập username:\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        id=\"input-username\"\r\n                                        value={username}\r\n                                        onChange={(e) =>\r\n                                            setUsername(e.target.value.replace(/\\s/g, ''))\r\n                                        }\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"input-password\" className=\"form-label\">\r\n                                        Nhập mật khẩu:\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        className=\"form-control\"\r\n                                        id=\"input-password\"\r\n                                        value={password}\r\n                                        onChange={(e) =>\r\n                                            setPassword(e.target.value.replace(/\\s/g, ''))\r\n                                        }\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-center mt-4\">\r\n                                    <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n                                        Đăng nhập\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"names":["LoginForm","username","setUsername","useState","password","setPassword","navigate","useNavigate","_jsx","className","style","height","overflow","children","_jsxs","onSubmit","async","e","preventDefault","trim","length","response","axios","get","console","log","data","status","account","find","acc","toLowerCase","Swal","title","text","icon","then","localStorage","setItem","name","username_github","error","htmlFor","type","id","value","onChange","target","replace","required"],"sourceRoot":""}