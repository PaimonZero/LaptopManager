"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[463],{2463:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var r=a(5043),n=a(9456),s=a(3216),i=a(64),l=a.n(i),c=a(6213),o=a(1035),m=a(579);const h=e=>{const t=(0,n.wA)(),{id:a,name:i,description:h,price:d,currentPrice:u,image:p}=(0,n.d4)((e=>e.updateableProduct)),x=(0,s.Zp)();(0,r.useEffect)((()=>{(async()=>{try{const a=await c.A.get(`http://localhost:3001/products/${e.id}`);200===a.status&&(t((0,o.Ux)(a.data.id)),t((0,o.m9)(a.data.name)),t((0,o.PV)(a.data.description)),t((0,o.EK)(a.data.price)),t((0,o.hB)(a.data.currentPrice)),t((0,o.W5)(a.data.image)))}catch(r){var a;c.A.isAxiosError(r)&&404===(null===(a=r.response)||void 0===a?void 0:a.status)&&l().fire({title:"L\u1ed7i!",text:"Kh\xf4ng t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m!",icon:"error"}).then((()=>{t((0,o.cL)()),x("/hextech/products")}))}})()}),[t,e.id,x]);return(0,m.jsx)("div",{className:"container mt-5 shadow-lg py-5",children:(0,m.jsxs)("div",{className:"mx-5",children:[(0,m.jsx)("h6",{className:"display-6 mb-4 text-center",children:"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m"}),(0,m.jsx)("form",{onSubmit:async e=>{e.preventDefault();const r=i.trim().length<1?"T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!":h.trim().length<1?"M\xf4 t\u1ea3 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!":d<=0?"Gi\xe1 g\u1ed1c ph\u1ea3i l\u1edbn h\u01a1n 0!":u<=0?"\u01afu \u0111\xe3i ph\u1ea3i l\u1edbn h\u01a1n 0!":u>=d?"\u01afu \u0111\xe3i ph\u1ea3i nh\u1ecf h\u01a1n gi\xe1 g\u1ed1c!":"";if(r.length>0)l().fire({title:"L\u1ed7i!",text:r,icon:"error"});else try{200===(await c.A.put(`http://localhost:3001/products/${a}`,{name:i,description:h,price:d,currentPrice:u,image:p})).status&&l().fire({title:"Th\xe0nh c\xf4ng!",text:"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!",icon:"success"}).then((()=>{t((0,o.cL)()),x(`/hextech/detail-product/${a}`)}))}catch(n){console.error("Error updating product:",n),l().fire({title:"L\u1ed7i!",text:"C\xf3 l\u1ed7i x\u1ea3y ra khi c\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m!",icon:"error"})}},children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-lg-6 col-md-8 col-sm-12 mx-auto",children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"input-name",className:"form-label",children:"T\xean s\u1ea3n ph\u1ea9m"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"input-name",value:i,autoComplete:"off",onChange:e=>t((0,o.m9)(e.target.value.replace(/\s/g,""))),required:!0})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"input-price",className:"form-label",children:"Gi\xe1 g\u1ed1c"}),(0,m.jsx)("input",{type:"number",className:"form-control",id:"input-price",value:d,autoComplete:"off",onChange:e=>t((0,o.EK)(Number(e.target.value))),required:!0})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"input-currentPrice",className:"form-label",children:"\u01afu \u0111\xe3i"}),(0,m.jsx)("input",{type:"number",className:"form-control",id:"input-currentPrice",value:u,autoComplete:"off",onChange:e=>t((0,o.hB)(Number(e.target.value))),required:!0})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"input-description",className:"form-label",children:"M\xf4 t\u1ea3"}),(0,m.jsx)("textarea",{className:"form-control",id:"input-description",value:h,autoComplete:"off",onChange:e=>t((0,o.PV)(e.target.value.trim())),required:!0})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"input-image",className:"form-label",children:"H\xecnh \u1ea3nh"}),(0,m.jsx)("input",{type:"file",className:"form-control",id:"input-image",accept:"image/*",autoComplete:"off",onChange:e=>{const a=e.target.files[0],r=new FileReader;r.onloadend=()=>{t((0,o.W5)(r.result))},r.readAsDataURL(a)},required:!0}),p&&(0,m.jsx)("img",{src:p,alt:"preview",className:"w-100 mt-3"})]}),(0,m.jsxs)("div",{className:"d-flex justify-content-center mt-4",children:[(0,m.jsx)("button",{type:"button",className:"btn btn-secondary col-6",style:{marginRight:"20px"},onClick:()=>x(-1),children:"Quay l\u1ea1i"}),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary col-6",children:"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m"})]})]})})})]})})}}}]);
//# sourceMappingURL=463.8b7709d8.chunk.js.map