{"version":3,"file":"static/js/447.15191347.chunk.js","mappings":"gKAGA,MAAMA,GAAkBC,EAAAA,EAAAA,OACpB,IAAM,sDAGJC,GAAcD,EAAAA,EAAAA,OAAK,IAAM,gCAkF/B,EAhFiBE,KACb,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,UAAS,IAChCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,GAMrCK,EAAmBA,KACjBC,OAAOC,YAAc,IACrBH,GAAa,GAEbA,GAAa,EACjB,EA0BJ,OAhBAI,EAAAA,EAAAA,YAAU,KACNC,EAAAA,EACKC,IAAI,kCACJC,MAAMC,IACHb,EAAYa,EAASC,KAAK,IAE7BC,OAAOC,IACJC,QAAQD,MAAM,sBAAuBA,EAAM,IAGnDT,OAAOW,iBAAiB,SAAUZ,GAC3B,KACHC,OAAOY,oBAAoB,SAAUb,EAAiB,IAE3D,KAGCc,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,MAACG,EAAAA,SAAQ,CAACC,UAAUC,EAAAA,EAAAA,KAAA,OAAAH,SAAK,eAAiBA,SAAA,EACtCG,EAAAA,EAAAA,KAAC9B,EAAe,KAChByB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC3BG,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,6BAA4BC,SAAC,qCAC3CG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,SACtBvB,EAAS2B,MAAM,EAAGxB,GAASyB,KAAKC,IAC7BH,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,kCAAiCC,UAC5CG,EAAAA,EAAAA,KAAC5B,EAAW,IAAK+B,KADiCA,EAAQC,SAKtEJ,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,cAAaC,SACvBpB,EAAUH,EAAS+B,SAChBL,EAAAA,EAAAA,KAAA,UACIM,QAnDXC,KACb7B,GAAY8B,GAAcA,EAAY,GAAE,EAmDhBC,KAAK,SACLb,UAAU,sCAAqCC,SAClD,wBAOhBlB,IACGqB,EAAAA,EAAAA,KAAA,OACIM,QAnDII,KAChB5B,OAAO6B,SAAS,CACZC,IAAK,EACLC,SAAU,UACZ,EAgDUjB,UAAU,oCAAmCC,UAE7CG,EAAAA,EAAAA,KAAA,UAAQS,KAAK,SAASb,UAAU,oBAAmBC,UAC/CG,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,aAAYC,SAAC,iBAIvC,C","sources":["pages/home/HomePage.js"],"sourcesContent":["import React, { Suspense, lazy, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst NavBarComponent = lazy(\r\n    () => import('../../components/common/NavbarComponent'),\r\n);\r\n\r\nconst ProductCard = lazy(() => import('../../components/product/ProductCard'));\r\n\r\nconst HomePage = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [visible, setVisible] = useState(8);\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    const loadMore = () => {\r\n        setVisible((prevValue) => prevValue + 8);\r\n    };\r\n\r\n    const toggleVisibility = () => {\r\n        if (window.pageYOffset > 300) {\r\n            setIsVisible(true);\r\n        } else {\r\n            setIsVisible(false);\r\n        }\r\n    };\r\n\r\n    const scrollToTop = () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(`http://localhost:3001/products`)\r\n            .then((response) => {\r\n                setProducts(response.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error('There was an error!', error);\r\n            });\r\n\r\n        window.addEventListener('scroll', toggleVisibility);\r\n        return () => {\r\n            window.removeEventListener('scroll', toggleVisibility); // Cleanup on unmount\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"home-page\">\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n                <NavBarComponent />\r\n                <div className=\"container mt-4\">\r\n                    <h6 className=\"display-6 mb-5 text-center\">Danh sách sản phẩm</h6>\r\n                    <div className=\"row d-flex\">\r\n                        {products.slice(0, visible).map((product) => (\r\n                            <div className=\"col-lg-3 col-md-4 col-sm-6 mb-5\" key={product.id}>\r\n                                <ProductCard {...product} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        {visible < products.length && (\r\n                            <button\r\n                                onClick={loadMore}\r\n                                type=\"button\"\r\n                                className=\"btn btn-primary mb-4 px-4 load-more\"\r\n                            >\r\n                                Xem thêm\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </Suspense>\r\n            {isVisible && (\r\n                <div\r\n                    onClick={scrollToTop}\r\n                    className=\"position-fixed bottom-0 end-0 p-3\"\r\n                >\r\n                    <button type=\"button\" className=\"btn btn-secondary\">\r\n                        <span className=\"text-white\">&uarr;</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomePage;\r\n"],"names":["NavBarComponent","lazy","ProductCard","HomePage","products","setProducts","useState","visible","setVisible","isVisible","setIsVisible","toggleVisibility","window","pageYOffset","useEffect","axios","get","then","response","data","catch","error","console","addEventListener","removeEventListener","_jsxs","className","children","Suspense","fallback","_jsx","slice","map","product","id","length","onClick","loadMore","prevValue","type","scrollToTop","scrollTo","top","behavior"],"sourceRoot":""}